# Oviedo’s Data Flow Complexity

**By E. Oviedo, 1980**

---

## Definition

Oviedo’s **Data Flow Complexity (DFC)** measures the complexity of a program based on the **flow of variable definitions and uses** across its **basic blocks** within a control flow graph (CFG).

- Given the basic blocks from a control flow graph:
  - A block’s **data flow complexity** is the **count of all prior definitions** of **locally exposed variables** in block _i_ that **reach** block _i_.
- The **data flow complexity of a program** is the **sum** of the data flow complexities of all blocks in the program body.

---

## Key Points

- Only **interblock data flow** contributes to the overall complexity of a program body.
- **Intrablock** data flow (definitions and uses within the same block) **is not counted**.
- It is **closely related to the "all-uses" test adequacy criterion** in software testing.
  - That is, it helps ensure every variable definition is exercised through every possible use during testing.

---

## Formula (Conceptually)

Let:

- `DF(i)` = number of prior reaching definitions for locally exposed variables in block _i_
- `n` = total number of basic blocks in the program

Then the **Data Flow Complexity (DFC)** of the program is:

\[
DFC = \sum\_{i=1}^{n} DF(i)
\]

---

## Steps to Calculate Oviedo’s Data Flow Complexity

1. **Construct the Control Flow Graph (CFG):**

   - Identify each **basic block** in the program.
   - Represent control flow between them using directed edges.

2. **Identify Locally Exposed Variables:**

   - For each block _i_, list variables that are **defined in the block** and **used later** (before being redefined).

3. **Determine Reaching Definitions:**

   - For each block _i_, find **definitions of variables from prior blocks** that can **reach** block _i_ without being killed (redefined) along the way.

4. **Count Reaching Definitions per Block:**

   - For each block _i_, count the number of **prior definitions** (from other blocks) that reach it.
   - This gives **DF(i)** for that block.

5. **Sum Across All Blocks:**
   - Compute the total:
     \[
     DFC = \sum DF(i)
     \]
   - This gives the **program’s overall data flow complexity**.

---

## Example (Conceptual)

If a program has 3 basic blocks:

| Block | Prior Reaching Definitions | DF(i) |
| :---- | :------------------------- | :---: |
| B1    | —                          |   0   |
| B2    | Definitions from B1        |   2   |
| B3    | Definitions from B1 and B2 |   3   |

Then:

\[
DFC = 0 + 2 + 3 = 5
\]

---

## Summary

| Concept                | Description                                                        |
| :--------------------- | :----------------------------------------------------------------- |
| **Metric Name**        | Oviedo’s Data Flow Complexity (DFC)                                |
| **Based On**           | Interblock variable definition-use relationships                   |
| **Measures**           | Data dependency complexity in control flow                         |
| **Focus**              | Interblock definition-use pairs                                    |
| **Closely Related To** | All-uses testing adequacy criterion                                |
| **Purpose**            | Quantifies data interaction complexity for testing and maintenance |

---

## References

- E. Oviedo, _“Control Flow, Data Flow, and Program Complexity,”_ Proceedings of the 4th International Conference on Software Engineering (ICSE), 1979.
